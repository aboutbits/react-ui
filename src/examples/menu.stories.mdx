import { Meta, Story, Canvas } from '@storybook/addon-docs'
import { action } from '@storybook/addon-actions'
import { useState } from 'react'
import { Menu } from '../components/menu/Menu'
import { MenuItem } from '../components/menu/MenuItem'

<Meta title="Examples/Menu" />

# Menu

The following example provides a language picker using the menu components. It allows the user to switch among the provided languages.

export const Template = () => {
  const supportedLanguages = {
    EN: 'English',
    DE: 'Deutsch',
    IT: 'Italiano',
  }
  const [currentLanguage, setCurrentLanguage] = useState('EN')
  return (
    <Menu menuButtonContent={currentLanguage} menuLabel="">
      {Object.entries(supportedLanguages).map(([abbr, language]) => (
        <MenuItem
          onClick={() => {
            setCurrentLanguage(abbr)
            action('onClick')(abbr)
          }}
          key={abbr}
        >
          {language}
        </MenuItem>
      ))}
    </Menu>
  )
}

<Canvas>
  <Story name="Default">{Template.bind({})}</Story>
</Canvas>
