import IconWarning from '@aboutbits/react-material-icons/dist/IconWarning'
import IconCheck from '@aboutbits/react-material-icons/dist/IconCheck'
import IconInfo from '@aboutbits/react-material-icons/dist/IconInfo'
import { Meta, Story, Canvas, ArgsTable } from '@storybook/addon-docs'
import { Theme } from '../../../.storybook/components'
import { Size, Tone } from '../types'
import { ButtonVariant } from '../button/types'
import { Button } from '../button'
import { Alert } from './Alert'
import { AlertActionsPosition } from './types'
import {
  AlertSuccess,
  AlertWarning,
  AlertCritical,
  AlertInformative,
} from './ConvenientAlerts'

<Meta title="Components/Alert/Alert" component={Alert} />

# Alert

This alert component can be used to highlight a message to the user.
It supports different types of tones. It is possible to specify an icon, a title, actions and the position of the actions.

The library also provides convenient alert components with predefined tone and icon.

export const Template = ({ children, ...args }) => (
  <Alert {...args}>{children}</Alert>
)

export const DissmissCriticalButton = (
  <Button
    variant={ButtonVariant.Transparent}
    size={Size.Sm}
    tone={Tone.Critical}
  >
    Dismiss
  </Button>
)

export const YesNoCriticalButtons = (
  <>
    <Button
      variant={ButtonVariant.Transparent}
      size={Size.Sm}
      tone={Tone.Critical}
    >
      Yes
    </Button>
    <Button
      variant={ButtonVariant.Transparent}
      size={Size.Sm}
      tone={Tone.Critical}
    >
      No
    </Button>
  </>
)

<Canvas>
  <Story
    name="Default"
    args={{
      children:
        'This alert component can be used to highlight a message to the user.',
      tone: Tone.Critical,
      icon: 'Warning',
    }}
    argTypes={{
      title: { control: 'text' },
      tone: {
        options: Object.values(Tone),
        control: { type: 'select' },
      },
      icon: {
        options: ['None', 'Warning', 'Check', 'Info'],
        mapping: {
          None: undefined,
          Warning: IconWarning,
          Check: IconCheck,
          Info: IconInfo,
        },
        control: { type: 'select' },
      },
      actions: {
        options: ['None', 'DismissCritical', 'YesNoCritical'],
        mapping: {
          None: undefined,
          DismissCritical: DissmissCriticalButton,
          YesNoCritical: YesNoCriticalButtons,
        },
        control: { type: 'select' },
      },
    }}
  >
    {Template.bind({})}
  </Story>
</Canvas>

### Props

<ArgsTable story="Default" />

### Theme

<Theme component="alert" />

## Tone

<Canvas>
  <Story name="Primary">
    <Alert tone={Tone.Primary}>Primary message</Alert>
  </Story>
  <Story name="Neutral">
    <Alert tone={Tone.Neutral}>Neutral message</Alert>
  </Story>
  <Story name="Warning">
    <Alert tone={Tone.Warning}>Warning message</Alert>
  </Story>
  <Story name="Critical">
    <Alert tone={Tone.Critical}>Critical message</Alert>
  </Story>
  <Story name="Success">
    <Alert tone={Tone.Success}>Success message</Alert>
  </Story>
  <Story name="Informative">
    <Alert tone={Tone.Informative}>Informative message</Alert>
  </Story>
</Canvas>

### Icon

<Canvas>
  <Story name="Icon">
    <Alert icon={IconCheck} tone={Tone.Success}>
      Success Message
    </Alert>
  </Story>
</Canvas>

### Title

<Canvas>
  <Story name="Title">
    <Alert icon={IconCheck} tone={Tone.Success} title="Success">
      Congratulations, this is a success message!
    </Alert>
  </Story>
</Canvas>

## Actions

<Canvas>
  <Story name="ActionsResponsive">
    <Alert
      icon={IconCheck}
      tone={Tone.Success}
      actions={
        <Button
          tone={Tone.Success}
          variant={ButtonVariant.Transparent}
          size={Size.Sm}
        >
          Dismiss
        </Button>
      }
      actionsPosition={AlertActionsPosition.Responsive}
    >
      Success message with <b>responsive</b> actions
    </Alert>
  </Story>
</Canvas>

<Canvas>
  <Story name="ActionsFixedRight">
    <Alert
      icon={IconCheck}
      tone={Tone.Success}
      actions={
        <Button
          tone={Tone.Success}
          variant={ButtonVariant.Transparent}
          size={Size.Sm}
        >
          Dismiss
        </Button>
      }
      actionsPosition={AlertActionsPosition.FixedRight}
    >
      Success message with actions <b>fixed to the right</b>
    </Alert>
  </Story>
</Canvas>

<Canvas>
  <Story name="ActionsFixedBottom">
    <Alert
      icon={IconCheck}
      tone={Tone.Success}
      actions={
        <Button
          tone={Tone.Success}
          variant={ButtonVariant.Transparent}
          size={Size.Sm}
        >
          Dismiss
        </Button>
      }
      actionsPosition={AlertActionsPosition.FixedBottom}
    >
      Success message with actions <b>fixed to the bottom</b>
    </Alert>
  </Story>
</Canvas>

## Very Long Message

<Canvas>
  <Story name="Very Long Message">
    <Alert icon={IconWarning} tone={Tone.Critical}>
      Duis mauris ligula, aliquam id maximus at, aliquam ut dui. Morbi ac neque
      mattis libero cursus lobortis quis ac urna. Nullam vel augue vitae lacus
      fermentum ullamcorper eu eget sapien.
    </Alert>
  </Story>
</Canvas>

## Convenient alert components

<Canvas>
  <Story name="AlertSuccess">
    <AlertSuccess>Success message</AlertSuccess>
  </Story>
  <Story name="AlertWarning">
    <AlertWarning>Warning message</AlertWarning>
  </Story>
  <Story name="AlertCritical">
    <AlertCritical>Critical message</AlertCritical>
  </Story>
  <Story name="AlertInformative">
    <AlertInformative>Informative message</AlertInformative>
  </Story>
</Canvas>
